<!doctype html>
<html lang="en" >
<head>
<meta charset="utf-8" >
<meta name="viewport" content = "width=device-width,user-scalable=no,minimum-scale=1.0,maximum-scale=1.0" >
<meta name=description content="Browse the source code for a book by Andranik Okroyan" >
<meta name=keywords content="JavaScript,GitHub,FOSS" >
<meta name = "date" content = "2018-07-15" >
<title>Launch and Learn Online</title>
<style>
/* Copyright 2018 Launch and Learn authors. MIT License */

	:root { --mnu-width: 20rem; font-size: 1em; }

	html { height: 100%; margin: 0; }

	body { height: 100%; margin: 0; }

	a:hover, a:focus { background-color: yellow; color: #888; }
	blockquote, pre { background-color:rgba(240, 240, 240, 0.25 ); padding: 1em }
	button:hover, input[ type=button ]:hover { background-color: #ccc; color: white }
	img { max-height: 600px; max-width: 800px; }

	#divContainer { height: 100%; margin: 0 0 0 var( --mnu-width ); transition: margin-left .5s; position: relative; }
	#divContents { height: 100%; left: 0; margin: 0 auto; max-width: 50rem; padding: 1rem; right: 0;}

	#divMenu { max-height: 100%; overflow-x: hidden; padding: 1rem; position: fixed; resize: both; top: 0;
		width: var( --mnu-width ); z-index: 1; transition: left 0.5s; }
	#hamburger { cursor: pointer; font-size: 2rem; left: calc( var( --mnu-width ) - 4rem );
		line-height: 2rem; position: fixed; top: 0; transition: left 0.5s; z-index: 10; }


	.default { background-color: white; color: #007bff; }
	.cerulean { background-color: white; color: #2FA4E7; }
	.cosmo { background-color: white; color: #2780E3; }
	.cyborg { background-color: #060606; color: #2A9FD6; }
	.darkly { background-color: #222; color: #00bc8c; }
	.flatly { background-color: white; color: #18BC9C; }
	.journal { background-color: white; color: #EB6864; }
	.litera { background-color: white; color: #4582EC; }
	.lumen { background-color: white; color: #158CBA; }
	.lux { background-color: white; color: #1a1a1a; }
	.materia { background-color: white; color: #2196F3; }
	.minty { background-color: white; color: #78C2AD; }
	.pulse { background-color: white; color: #593196; }
	.sandstone { background-color: white; color: #93C54B; }
	.simplex { background-color: white; color: #D9230F; }
	.sketchy { background-color: white; color: #333; }
	.slate { background-color: #272B30; color: #fff; }
	.solar { background-color: #002B36; color: #839496; }
	.spacelab { background-color: white; color: #3399F3; }
	.superhero { background-color: #2B3E50; color: #DF691A; }
	.united { background-color: white; color: #E95420; }
	.yeti { background-color: white; color: #008cba; }

/* https://www.w3schools.com/colors/colors_names.asp // use colors and borders to help identify the scope of particular elements */

/*

	body, html { font: 12pt "Trebuchet MS", helvetica, sans-serif; height: 100%; margin: 0; }

	button, input[ type=button ] { background-color: #ddd; border: none; color: var( --mnu-color ); cursor: pointer; padding: 3px 20px; }

	iframe { /*border: none; * width: 100%; }

	input[ type = range ] { -webkit-appearance: none; -moz-appearance: none; background-color: #ddd; width: 100%; }
	input[ type = range ]::-moz-range-thumb { background-color: #888; border-radius: 0; width: 10px; }
	input[ type = range ]::-webkit-slider-thumb { -webkit-appearance: none; background-color: #888; height: 20px; width: 10px; }

	td { vertical-align: top; }

*/

</style>
<link id=css rel="stylesheet" type="text/css" >
</head>
<body>
<script src=https://cdn.rawgit.com/showdownjs/showdown/1.8.6/dist/showdown.min.js ></script>

	<div id = "divMenu" title="The 10 steps to success" class="jumbotron" >

		<div id = "divTitle" ></div>

		<div id = "divMenuLinks" >

			<h3><a href="" >Read Me file</a></h3>

			<h3><a href=JavaScript:fetchText(url,divContents) >View online</a></h3>

			<h3><a href=JavaScript:fetchMenuR2() >View online R2</a></h3>

		</div>

		<hr>

		<div id= "divMenuItems" title=""></div>

		<div id= "divFooter" >

				<select id=selTheme onchange=updateCss(this.value); class="form-control" >
				<option class=default >Default</option>
				<option class=cerulean >Cerulean</option>
				<option class=cosmo >Cosmo</option>
				<option class=cyborg >Cyborg</option>
				<option class=darkly >Darkly</option>
				<option class=flatly >Flatly</option>
				<option class=journal >Journal</option>
				<option class=litera >Litera</option>
				<option class=lumen >Lumen</option>
				<option class=lux >Lux</option>
				<option class=meteria >Materia</option>
				<option class=minty >Minty</option>
				<option class=pulse >Pulse</option>
				<option class=sandstone >Sandstone</option>
				<option class=simplex >Simplex</option>
				<option class=sketchy >Sketchy</option>
				<option class=slate >Slate</option>
				<option class=solar >Solar</option>
				<option class=spacelab >Spacelab</option>
				<option class=superhero >Superhero</option>
				<option class=united >United</option>
				<option class=yeti >Yeti</option>
			</select>


			<div><a href=#LICENSE.md >License</a></div>
			<div><a href=#developer-notes.md >dev notes</a></div>

				<!--
				<div title='many thanks!' ><a href=#../pages/credits.md >Credits</a></div>
				<div><a href=#../pages/code-of-conduct.md >Code of Conduct</a></div>
				<div><a href=#../pages/contributing.md >Contributing</a></div>
				<div><a href=#../pages/markdown-help.md >Markdown Help</a></div>
				<div><a href="javascript:( function(){ var script=document.createElement('script');script.onload=function(){var stats=new Stats();document.body.appendChild(stats.dom);requestAnimationFrame(function loop(){stats.update();requestAnimationFrame(loop)});};script.src='https://rawgit.com/mrdoob/stats.js/master/build/stats.min.js';document.head.appendChild(script);})()" title="Mr.doob's Stats.js appear in top left corner" >Show frames/second statistics</a></div>
				<div><a href="https://api.github.com/rate_limit" target=_blank title='If menu stops appearing, it is likely due to too many API calls' >View GitHub API Rate Limits</a></div>
				-->
			</div>

			<h3 style=cursor:pointer;text-align:center;><a href="JavaScript:divMenu.scrollTop=0;"  title='go to top of page' > &#x2766; </a></h3>

		</div>



	<div id = "divContainer" >

		<div id = "divContents" ></div>

	</div>

	<button id = "hamburger" class = "btn btn-primary" onclick=toggleNav(); > slide &#9776;  </button>

<script>
// https://github.com/showdownjs/showdown << check for latest rev from time to time
// jshint esversion: 6

const url = 'https://launchandlearn.github.io/launch-and-learn-by-andranik-okroyan.html';

let themeName = localStorage.getItem( 'themeName' ) || 'Cerulean';
selTheme.value = themeName;

let xDown = null;
let yDown = null;

//	let defaultFile = 'index.html';
//	location.hash = '../README.md';
let uriDefaultFile = 'README.md';


init();


function init() {

	updateCss( themeName );

	divTitle.innerHTML =
		`
		<h2>
			<a href="https://github.com/launchandlearn/launchandlearn.github.io" target="_top" title="Source code on GitHub" >
				<img src="https://status.github.com/images/invertocat.png" height=18 ></a>
			<br>
			<a href = "" title = "Click to reload this page" >${document.title}</a>
		</h2>
		<p>${ document.head.querySelector( '[name=description]' ).content }</p>
		`;

	document.addEventListener( 'touchstart', onTouchStart, false );
	document.addEventListener( 'touchmove', onTouchMove, false );

	window.addEventListener ( 'hashchange', onHashChange, false );

	onHashChange();

}



function updateCss( value ) {

	css.href = value === 'Default' ? 'https://bootswatch.com/_vendor/bootstrap/dist/css/bootstrap.css' :
		`https://stackpath.bootstrapcdn.com/bootswatch/4.1.1/${ value.toLowerCase() }/bootstrap.min.css`;

	localStorage.setItem( 'themeName', value );

}



function onHashChange() {

	const url = !location.hash ? uriDefaultFile : location.hash.slice( 1 );
	const ulc = url.toLowerCase();

	if ( ulc.endsWith( '.md' ) ) {

		requestFile( url, callbackMarkdown );

	} else if ( ulc.endsWith( '.html' ) ) {

		divContents.style.maxWidth = '100%';
		document.body.style.overflow = 'hidden';

		divContents.innerHTML = `<iframe src=${ url } height=100% width=100% ></iframe>`;

	} else if ( ulc.endsWith( '.gif' ) || ulc.endsWith( '.png' ) || ulc.endsWith( '.jpg' ) || ulc.endsWith( '.svg' )) {

		divContents.innerHTML = `<img src=${ url } >`;

	} else {

		requestFile( urlGitHubPage + url, callbackToTextarea );

	}

}



function callbackMarkdown( xhr ){

	showdown.setFlavor('github');
	const converter = new showdown.Converter();
	const response = xhr.target.response;
	const html = converter.makeHtml( response );

	divContents.style.maxWidth = '800px';
	document.body.overflow = '';
	divContents.innerHTML = html;
	window.scrollTo( 0, 0 );

}



function callbackToTextarea( xhr ){

	const response = xhr.target.response;

	divContents.innerHTML = `<textarea style=height:100%;width:100%; >${ response }</textarea>`;

}



function requestFile( url, callback ) {

	const xhr = new XMLHttpRequest();
	xhr.crossOrigin = 'anonymous';
	xhr.open( 'GET', url, true );
	xhr.onerror = function( xhr ) { console.log( 'error:', xhr  ); };
	//		xhr.onprogress = function( xhr ) { console.log(  'bytes loaded: ' + xhr.loaded.toLocaleString() ) }; /// or something
	xhr.onload = callback;
	xhr.send( null );

}



function onTouchStart( event ) {

	xDown = event.touches[ 0 ].clientX;
	yDown = event.touches[ 0 ].clientY;

}



function onTouchMove(event) {

	if ( ! xDown || ! yDown ) {

		return;

	}

	const xUp = event.touches[ 0 ].clientX;
	const yUp = event.touches[ 0 ].clientY;

	const xDiff = xDown - xUp;
	const yDiff = yDown - yUp;

	if ( Math.abs( xDiff ) > Math.abs( yDiff ) ) {// most significant

		if ( xDiff > 0 ) {

			toggleNav();
			// left swipe
			console.log( 'left swipe' );

		} else {

			toggleNav();
			// right swipe
			console.log( 'right swipe' );

		}

	} else {

		if ( yDiff > 0 ) {

			//up swipe
			console.log( 'up swipe' );

		} else {

			// down swipe
			console.log( 'down swipe' );

		}

	}

	xDown = null;
	yDown = null;

}



function fetchText( url, target ){

	//console.log(url );

	const request = new Request( url );

	fetch( request )
		.then( function( response ) { return response.text() })
		.then( function( text ) { parseText( text, divContents ) } );

}



function parseText( text, target ) {

	const parser = new DOMParser();

	const doc = parser.parseFromString( text, "text/html" );
	//console.log( 'doc', doc );

	target.innerHTML = `<h1><i>Launch and Learn</i> Online</h1>` + doc.body.innerHTML;

	titles = Array.from( doc.getElementsByTagName("h1") ).filter( item => item.id );
	items = titles.map( item => [item.id, item.firstChild.innerHTML ] );

	let txt = '';

	for ( item of items ) {

		if ( item[ 1 ].startsWith( 'CHAPTER') ) {

			txt += ""; //`<div><a href=JavaScript:setView("${item[0]}"); class="btn btn-link" style=padding:0; ><small>${item[1]}</small></a></div>`;

		} else {

			txt += `<div style=margin-bottom:8px; ><a href=JavaScript:setView("${item[0]}"); class="btn btn-link" >${item[1]}</a></div>`;
		}
	}
	//strings.map( item => `<p><a href=JavaScript:setView("${item[0]}"); >${item[1]}</a></p>` );
	divMenuItems.innerHTML = txt + '<hr>';




	let element = document.getElementById( 'h.gjdgxs' ); // jump to dedication
	element.scrollIntoView( true );

}



function setView( item) {

	elmnt = document.getElementById( item );
	elmnt.scrollIntoView( true );

}


function fetchMenuR2() {

	divMenuItems.innerHTML =
`
	<p><a href=#online-version2/01-dedication.md >Dedication</p>
	<p><a href=#online-version2/02-about-the-author.md >About the Author</p>
	<p><a href=#online-version2/03-format-of-the-book.md >Format of the Book</p>
	<p><a href=#online-version2/04-why-you-should-read-this-book.md >Why You Should Read This Book</p>
	<p><a href=#online-version2/05-the-11-maps-to-success.md >The 11 Maps to Success</p>
	<p><a href=#online-version2/map-01-focus-meditation.md >Map 1: Focus Meditation</p>
	<p><a href=#online-version2/map-02-make-the-bed.md >Map 2: Make the Bed</p>
	<p><a href=#online-version2/map-03-cold-environment.md >Map 3: Cold Environment</p>
	<p><a href=#online-version2/map-04-power-of-liquid.md >Map 4: The Power of Liquid</p>
	<p><a href=#online-version2/map-05-journal-meditation.md >Map 5: Jornal Meditation</p>
	<p><a href=#online-version2/map-06-creative-critique-and-artist-within.md >Map 6: Creative Critique and Artist Within</p>
	<p><a href=#online-version2/map-07-exercise.md >Map 7: Exercise</p>
	<p><a href=#online-version2/map-08-meal.md >Map 8: Meal</p>
	<p><a href=#online-version2/map-09-play-to-play.md >Map 9: Play to Play</p>
	<p><a href=#online-version2/map-10-sleep.md >Map 10: Sleep</p>
	<p><a href=#online-version2/map-11-the-master-ritual-for-advanced-users.md >Map 11: The Master Ritual for Advanced Users</p>
	<p><a href=#online-version2/zz-conclusion.md >Conclusion</p>
	<p><small><a href=#online-version2/README.md >read me</a></small></p>
	<hr>
`
}


function toggleNav() {

	const width = getComputedStyle(document.documentElement).getPropertyValue( '--mnu-width' ).trim();

	if ( !divMenu.style.width || divMenu.style.width === width ) {

		divMenu.style.width = '0';
		divMenu.style.padding = '0';
		hamburger.style.left = '-75px';
		divContainer.style.marginLeft = '0';

	} else {

		divMenu.style.width = width;
		//divMenu.style.padding = '30px 10px 0 10px';
		divMenu.style.padding = '1rem';
		hamburger.style.left = 'calc( var( --mnu-width ) - 4rem )';
		divContainer.style.marginLeft = width;

	}

}


function xxtoggleNav() {

	const left = 'calc( var( --mnu-width ) - 4rem )';

	if ( hamburger.style.left === '' || hamburger.style.left === left ) {

		divMenu.style.left = 'calc( -1 * var( --mnu-width ) - 2rem )';
		hamburger.style.left = '-5.3rem';
		divContainer.style.marginLeft = '0';

	} else {

		divMenu.style.left = 0;
		hamburger.style.left = left;
		divContainer.style.marginLeft = left;

	}

}

</script>
</body>
</html>